"use strict";function MainCtrl(e,t){e.url="/api/competitions/"+e.slug+"/chart",e.maxChartsPerPage=5,e.maxPages=5,e.chartsCurrPage=1,e.chartSearchString="",e.order="chart_position",e.reverseOrder=!1,e.sortingTypes=[{title:"Track Name",active:!1},{title:"Chart",active:!0},{title:"Play",active:!1},{title:"Date Added",active:!1},{title:"Popularity",active:!1}],t.getFromJSON({limit:5,offset:0,search:"",url:e.url}).then(function(t){e.charts=t.charts,e.totalChartsCount=t.totalChartsCount})["catch"](function(e){console.log(e)}),e.loadCharts=function(){t.getFromJSON({limit:e.maxChartsPerPage,offset:(e.chartsCurrPage-1)*e.maxChartsPerPage,search:e.chartSearchString,sorting:e.order,reverseOrder:e.reverseOrder,url:e.url}).then(function(t){e.charts=t.charts,e.totalChartsCount=t.totalChartsCount})["catch"](function(e){console.log(e)})},e.visible=!0,e.sortBy=function(t){switch(e.sortingTypes.forEach(function(e){e.active=!1}),t.active=!0,t.title){case"Track Name":e.order="track.name",e.reverseOrder=!1;break;case"Chart":e.order="position",e.reverseOrder=!1;break;case"Play":e.order="track.plays",e.reverseOrder=!0;break;case"Date Added":e.order="track.added",e.reverseOrder=!0;break;case"Popularity":e.order="track.likes",e.reverseOrder=!0}e.loadCharts()},e.selectTrack=function(t){e.entry=e.charts[t],$("#modal").show(function(){dzsag_init("#"+playerid,{transition:"fade",cueFirstMedia:"on",autoplay:"on",autoplayNext:"off",design_menu_position:"bottom",settings_ap:settings_ap,design_menu_state:"open",design_menu_show_player_state_button:"off",embedded:"off",enable_easing:"on"})})},$("#modalDismiss").click(function(){$("#modal").hide()})}function Decorate(e){e.decorator("paginationDirective",function(e){var t=e[0];return t.templateUrl="/static/js/paginationOverride.tpl.html",e})}var fameMusicMainCtrl=function(e){},fameMusicApp=angular.module("fameMusicApp",[]);fameMusicApp.config(function(e){e.defaults.headers.common["X-Requested-With"]="XMLHttpRequest"}).controller("fameMusicMainCtrl",fameMusicMainCtrl);var ChartApp=angular.module("ChartApp",["ui.bootstrap"]),playerid="ag1",settings_ap={disable_volume:"off",disable_scrub:"default",design_skin:"skin-wave",skinwave_dynamicwaves:"on",skinwave_enableSpectrum:"off",settings_backup_type:"full",skinwave_enableReflect:"on",skinwave_comments_enable:"on",skinwave_timer_static:"off",disable_player_navigation:"off",skinwave_mode:"normal",skinwave_comments_retrievefromajax:"on"};ChartApp.config(["$provide",Decorate]).controller("MainCtrl",["$scope","Charts",MainCtrl]);